<% layout('layouts/boilerplate') %>


    <style>
        a:link,
        a:visited {
            color: black;
            text-decoration: none;
            /* Standard browser blue */

            /* Add underline to resemble default link style */
        }

        .filters {
            display: flex;
        }

 
        .filter{
            opacity: 0.7;
            text-align: center;
            margin-right:2rem;
            cursor: pointer;

        }
        .filter:hover{
            opacity: 1;
        }
        .filter p{
            font-size: 0.8rem;
        }
        .tax-info{
            display: none;
        }
        .tax-toggler{
            border-radius: 15px;
            padding: 10px 10px;
            border: solid 1px;
            cursor: pointer;
        }
        .tax-toggler label,.tax-toggler input{
            cursor: pointer;
        }
    </style>

    <body>

        <div class="filters">
            <a href="/listings/category/trending"><div class="filter">
                <div>
                    <li class="fa-solid fa-fire"></li>
                </div>
                <p>Trending</p>
            </div>
        </a>
        <a href="/listings/category/rooms"><div class="filter">
                <div>
                    <li class="fa-solid fa-bed"></li>
                    <p>Rooms</p>
                </div>

            </div>
            </a>
            <a href="/listings/category/city"> <div class="filter">
                <div>
                    <li class="fa-solid fa-mountain-city"></li>
                    <p>Iconic Cities</p>
                </div>

            </div>
            </a>
            <a href="/listings/category/mountain"> <div class="filter">
                <div>
                    <li class="fa-solid fa-mountain"></li>
                    <p>Mountain</p>
                </div>

            </div>
            </a>
            <a href="/listings/category/castle"> <div class="filter">
                <div>
                    <i class="fa-brands fa-fort-awesome"></i>
                    <p>Castles</p>
                </div>

            </div>
            </a>
            <a href="/listings/category/pool"> <div class="filter">
                <div>
                    <li class="fa-solid fa-person-swimming"></li>
                    <p>Amazing Pools</p>
                </div>
            </div></a>
            <a href="/listings/category/farm"><div class="filter">
                <div>
                    <i class="fa-solid fa-cow"></i></li>
                    <p>Farms</p>
                </div>
            </div>
            </a>
            <a href="/listings/category/camping"> <div class="filter">
                <div>
                    <li class="fa-solid fa-campground"></li>
                    <p>Camping</p>
                </div>
            </div>
            </a >
            <a href="/listings/category/snow"> <div class="filter">
                <div>
                    <li class="fa-solid fa-snowflake"></li>
                    <p>Arctic</p>
                </div>
            </div>
            </a>
            <a href="/listings/category/boat"> <div class="filter">
                <div>
                    <i class="fa-solid fa-ship"></i>
                    <p>Boat</p>
                </div>
            </div>
            </a>
            <a href="/listings/category/island"> <div class="filter">
                <div>
                    <i class="fa-solid fa-umbrella-beach"></i>
                    <p>Island</p>
                </div>
            </div>
            </a>
            <div class="tax-toggler">            
                <div class="form-check-reverse form-switch" >
                <input class="form-check-input" type="checkbox" role="switch" id="flexSwitchCheckChecked" unchecked>
                <label class="form-check-label" for="flexSwitchCheckChecked">Display total before taxes</label>
              </div> </div>

        </div>
        <div class="container row mx-auto">
            <div class="row row-cols-lg-3 row-cols-md-2 row-cols-sm-1 row-cols-1 g-4">
                <% for(let singlelist of allListings){%>
                    <div class="col">
                        <div class="card">
                            <a href="/listings/<%= singlelist._id %>">
                                <img class="card-img-top" src="<%= singlelist.image.url %>" alt="Card image cap"
                                    style="height: 20rem; width: 100%;">
                                <div class="card-img-overlay">
                                    <h5 class="card-title">abc</h5>

                                </div>

                            </a>


                            <div class="card-body">
                                <p class="card-text">
                                    <b>
                                        <%= singlelist.title %>
                                    </b>

                                </p>
                                <p class="card-text">
                                    &#8377; <%= singlelist.price.toLocaleString("en-IN") %>/ night <i class="tax-info">+ 18% GST</i>
                                </p>
                            </div>
                        </div>

                    </div>




                    <% } %>
            </div>
        </div>
    
<script>
    const taxSwitch=document.getElementById("flexSwitchCheckChecked");
    let tax_info=document.getElementsByClassName("tax-info");
    taxSwitch.addEventListener("change",(e)=>{
        console.log("Clicked");
        console.log(tax_info);
        for (i of tax_info){
            if(i.style.display!="inline")
            i.style.display="inline";
        else i.style.display="none";
        }
    })
</script>
</body>